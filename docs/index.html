<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Campaign Handbook</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      ::-webkit-scrollbar {
        width: 12px;
      }

      ::-webkit-scrollbar-track {
        background: #050e04; /* Black background for the track */
      }

      ::-webkit-scrollbar-thumb {
        background: rgb(51, 255, 51, 1); /* Green scrollbar thumb */
        border: 2px solid #050e04; /* Black border around the thumb */
        border-radius: 6px; /* Rounded corners for the thumb */
      }

      ::-webkit-scrollbar-thumb:hover {
        background: #66ff66; /* Lighter green on hover */
      }
      html,
      body {
        width: 100%;
        height: 100%;
        background: #050e04;
        color: rgb(51, 255, 51, 1);
        font-size: 1.1rem;
        line-height: 1.5;
        font-family: "Share Tech Mono", monospace;
      }

      .container {
        overflow: hidden;
        padding: 1rem;
        display: flex;
        flex-direction: column;
      }

      nav {
        display: flex;
        justify-content: space-around;
        border-bottom: 1px solid rgb(51, 255, 51, 1);
        padding-bottom: 0.5rem;
        margin-bottom: 1rem;
        flex-wrap: wrap; /* Allow wrapping for responsiveness */
      }

      nav button {
        background: none;
        border: none;
        color: rgb(51, 255, 51, 1);
        font-size: 1.8rem;
        font-weight: bold;
        cursor: pointer;
        text-shadow: 0 0 5px rgb(51, 255, 51, 1);
        margin: 0.5rem; /* Add spacing between buttons */
        flex: 1 1 auto; /* Make buttons flexible */
      }

      @media (max-width: 768px) {
        .container {
          flex-direction: column; /* Stack buttons vertically on smaller screens */
          align-items: center; /* Center buttons */
        }

        nav button {
          width: 100%; /* Make buttons take full width */
          text-align: center; /* Center text inside buttons */
          font-size: 1.4rem;
        }
      }

      .content-area {
        width: 100%;
        flex: 1;
        overflow-y: auto;
        position: relative;
        padding-right: 2rem;
      }

      .content-area-right {
        flex: 1;
        overflow-y: auto;
        position: relative;
        padding-right: 2rem;
      }

      .scrollbar::-webkit-scrollbar {
        width: 12px;
      }

      .scrollbar::-webkit-scrollbar-thumb {
        background: rgb(51, 255, 51, 1);
        border: 2px solid #050e04;
      }

      .carousel-section {
        display: none;
      }

      .carousel-section.active {
        display: block;
      }
      .context-image {
        float: right;
        width: 200px;
        height: 200px;
        margin: 0 0 1rem 1rem;
        background-image: url("assets/pipboy-context.png");
        background-size: cover;
        border: 0px solid rgb(51, 255, 51, 1);
      }

      h2 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
        text-shadow: 0 0 4px rgb(51, 255, 51, 1);
      }

      p {
        color: rgb(51, 255, 51, 0.6);
        margin-bottom: 1rem;
      }

      .green-table {
        display: flex;
        flex-direction: column;
        margin-top: 1rem;
        color: rgb(51, 255, 51, 1);
        background-color: #050e04;
        font-size: 1.5rem;
      }

      .green-table-header,
      .green-table-row {
        display: flex;
        justify-content: space-between;
        padding: 0.5rem;
      }

      .green-table-header {
        font-weight: bold;
        background-color: rgb(51, 255, 51, 0.6);
        color: #050e04;
      }

      .green-table-row:nth-child(even) {
        background-color: #050e04;
      }

      .green-table-row:hover {
        background-color: rgb(51, 255, 51, 1);
        color: #121212;
      }

      .green-table div {
        flex: 1;
        text-align: left;
      }

      a {
        color: #ffd700; /* Golden text color */
        text-decoration: none; /* Remove underline */
      }

      a:hover {
        color: #ffa500; /* Lighter golden color on hover */
        text-decoration: underline; /* Add underline on hover */
      }

      .footnote {
        font-size: 0.8rem;
        opacity: 1;
        margin-top: 1rem;
        font-weight: lighter;
      }

      .terminal-warning {
        font-family: monospace;
        background-color: #111;
        color: #0f0;
        font-size: 0.9rem;
        margin: 1rem;
        border-radius: 6px;
      }

      .terminal-warning ul {
        list-style-type: none; /* Remove bullets */
        padding-left: 0; /* Remove left padding */
      }
    </style>
  </head>
  <body>
    <div class="frame-left"></div>
    <div class="frame-right"></div>
    <div class="frame-top"></div>
    <div class="frame-bottom"></div>

    <div class="container">
      <nav id="nav"></nav>
      <div class="content-area scrollbar" id="carousel">
        <div class="content-area-left"></div>
      </div>
    </div>

    <script>
      const sections = [
        { title: "INTRO", file: "./sections/intro.html" },
        { title: "LEGENDS", file: "./sections/legends.html" },
        { title: "RULES", file: "./sections/rules.html" },
        { title: "ASCENSION", file: "./sections/ascension.html" },
      ];

      const nav = document.getElementById("nav");
      const carousel = document.getElementById("carousel");

      sections.forEach((section, i) => {
        const btn = document.createElement("button");
        btn.textContent = section.title;
        btn.onclick = () => setActive(i);
        nav.appendChild(btn);

        const div = document.createElement("div");
        div.className = "carousel-section-left carousel-section";
        div.dataset.file = section.file;
        carousel.appendChild(div);
      });

      function setActive(index) {
        document.querySelectorAll(".carousel-section").forEach((el, i) => {
          el.classList.toggle("active", i === index);
          if (i === index && !el.innerHTML.trim()) {
            loadSectionContent(el.dataset.file, el);
          }
        });
        window.location.hash = sections[index].title;
      }

      function loadSectionContent(file, element) {
        fetch(file)
          .then((response) => {
            if (!response.ok) {
              throw new Error(`HTTP error! Status: ${response.status}`);
            }
            return response.text();
          })
          .then((html) => {
            element.innerHTML = html;
          })
          .catch((error) => {
            console.error(`Error loading ${file}:`, error);
            element.innerHTML = `<p>Error loading content. Please try again later.</p>`;
          });
      }

      function handleHashChange() {
        const hash = window.location.hash.substring(1);
        const index = sections.findIndex((section) => section.title === hash);
        if (index !== -1) {
          setActive(index);
        } else {
          setActive(0);
        }
      }

      window.addEventListener("hashchange", handleHashChange);
      handleHashChange();
    </script>
  </body>
</html>
